Index: app/build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>apply plugin: 'com.android.application'\r\napply plugin: 'kotlin-android'\r\napply plugin: 'kotlin-android-extensions'\r\napply plugin: 'kotlin-kapt'\r\n\r\nandroid {\r\n    compileSdkVersion 29\r\n    buildToolsVersion \"29.0.3\"\r\n\r\n    defaultConfig {\r\n        applicationId \"club.devsoc.scanf\"\r\n        minSdkVersion 21\r\n        targetSdkVersion 29\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n\r\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n\r\n    dataBinding {\r\n        enabled = true\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: \"libs\", include: [\"*.jar\"])\r\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib:$kotlinVersion\"\r\n    implementation 'androidx.core:core-ktx:1.3.0'\r\n    implementation 'androidx.appcompat:appcompat:1.1.0'\r\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\r\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\r\n    testImplementation 'junit:junit:4.12'\r\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\r\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\r\n\r\n    // Google Material Library\r\n    implementation 'com.google.android.material:material:1.1.0-alpha09'\r\n\r\n    // For ViewModel and Livedata\r\n    implementation \"android.arch.lifecycle:extensions:$lifecycleVersion\"\r\n    kapt \"android.arch.lifecycle:compiler:$lifecycleVersion\"\r\n\r\n    // Retrofit\r\n    implementation \"com.squareup.retrofit2:retrofit:$retrofitVersion\"\r\n    implementation \"com.squareup.retrofit2:converter-gson:$retrofitVersion\"\r\n\r\n    // QR Code Scanner by budiyev\r\n    implementation 'com.budiyev.android:code-scanner:2.1.0'\r\n\r\n    // For Handling permissions\r\n    implementation 'pub.devrel:easypermissions:3.0.0'\r\n\r\n    kapt \"com.android.databinding:compiler:3.1.4\"\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/build.gradle	(revision f2478247a68568a5a7f66aa14747f8ac6ff6ee66)
+++ app/build.gradle	(date 1611945325493)
@@ -57,6 +57,13 @@
     // For Handling permissions
     implementation 'pub.devrel:easypermissions:3.0.0'
 
+    //databinding compiler
     kapt "com.android.databinding:compiler:3.1.4"
 
+    //CameraKit dependencies
+    implementation 'com.camerakit:camerakit:1.0.0-beta3.11'
+    implementation 'com.camerakit:jpegkit:0.1.0'
+    implementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.3.0'
+    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.0.0'
+
 }
\ No newline at end of file
Index: app/src/main/java/club/devsoc/scanf/view/activity/ImageActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package club.devsoc.scanf.view.activity\r\n\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport club.devsoc.scanf.R\r\n\r\nclass ImageActivity : AppCompatActivity() {\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_image)\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/club/devsoc/scanf/view/activity/ImageActivity.kt	(revision f2478247a68568a5a7f66aa14747f8ac6ff6ee66)
+++ app/src/main/java/club/devsoc/scanf/view/activity/ImageActivity.kt	(date 1611945969660)
@@ -3,10 +3,24 @@
 import androidx.appcompat.app.AppCompatActivity
 import android.os.Bundle
 import club.devsoc.scanf.R
+import com.camerakit.CameraKitView
+import com.google.android.material.floatingactionbutton.FloatingActionButton
 
 class ImageActivity : AppCompatActivity() {
+
+    private lateinit var cameraView:CameraKitView
+    private lateinit var photoButton:FloatingActionButton
+
+
+
     override fun onCreate(savedInstanceState: Bundle?) {
         super.onCreate(savedInstanceState)
         setContentView(R.layout.activity_image)
+
+        cameraView = findViewById(R.id.camera)
+
+        photoButton = findViewById(R.id.photoButton);
+        photoButton.setOnClickListener(photoOnClickListener);
+
     }
 }
\ No newline at end of file
Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    package=\"club.devsoc.scanf\">\r\n\r\n    <uses-permission android:name=\"android.permission.CAMERA\" />\r\n    <uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" />\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/AppTheme\">\r\n        <activity android:name=\".view.activity.ImageActivity\"></activity>\r\n        <activity android:name=\".view.activity.QRScanActivity\"></activity>\r\n        <activity android:name=\".view.activity.MainActivity\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n    </application>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/AndroidManifest.xml	(revision f2478247a68568a5a7f66aa14747f8ac6ff6ee66)
+++ app/src/main/AndroidManifest.xml	(date 1611944716566)
@@ -2,14 +2,16 @@
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
     package="club.devsoc.scanf">
 
-    <uses-permission android:name="android.permission.CAMERA" />
-    <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
+    <uses-permission android:name="android.permission.CAMERA"/>
+    <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE"/>
+    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
 
     <application
         android:allowBackup="true"
         android:icon="@mipmap/ic_launcher"
         android:label="@string/app_name"
         android:roundIcon="@mipmap/ic_launcher_round"
+        android:requestLegacyExternalStorage="true"
         android:supportsRtl="true"
         android:theme="@style/AppTheme">
         <activity android:name=".view.activity.ImageActivity"></activity>
Index: app/src/main/java/club/devsoc/scanf/view/activity/MainActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package club.devsoc.scanf.view.activity\r\n\r\nimport android.content.Intent\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.view.View\r\nimport android.widget.ImageView\r\nimport android.widget.Toast\r\nimport androidx.constraintlayout.widget.ConstraintLayout\r\nimport androidx.databinding.DataBindingUtil\r\nimport club.devsoc.scanf.R\r\nimport club.devsoc.scanf.databinding.ActivityMainBinding\r\nimport com.google.android.material.bottomsheet.BottomSheetBehavior\r\nimport android.view.MenuItem\r\nimport androidx.appcompat.app.ActionBarDrawerToggle\r\nimport androidx.core.view.GravityCompat\r\nimport androidx.drawerlayout.widget.DrawerLayout\r\nimport com.google.android.material.navigation.NavigationView\r\n\r\nclass MainActivity : AppCompatActivity(), View.OnClickListener,NavigationView.OnNavigationItemSelectedListener {\r\n\r\n    private lateinit var mainBinding: ActivityMainBinding\r\n    private lateinit var documentScanButton: ImageView\r\n    private lateinit var qrScanButton: ImageView\r\n    private lateinit var bottomSheet: ConstraintLayout\r\n    private lateinit var bottomSheetBehavior: BottomSheetBehavior<ConstraintLayout>\r\n    private var drawerLayout: DrawerLayout? = null\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n\r\n        defineLayouts()\r\n\r\n        this.drawerLayout = findViewById<DrawerLayout>(R.id.drawer_layout)\r\n        val navigationView = findViewById<NavigationView>(R.id.nav_view)\r\n//        navigationView.setNavigationItemSelectedListener(this)\r\n        val toggle = ActionBarDrawerToggle(\r\n            this,\r\n            drawerLayout,\r\n            R.string.navigation_drawer_open,\r\n            R.string.navigation_drawer_close)\r\n        drawerLayout!!.addDrawerListener(toggle)\r\n        toggle.syncState()\r\n\r\n        if (savedInstanceState == null) {\r\n            navigationView.setCheckedItem(R.id.nav_recent_files)\r\n        }\r\n\r\n\r\n        initActivity()\r\n        attachOnClickListeners()\r\n    }\r\n    override fun onNavigationItemSelected(menuItem: MenuItem): Boolean {\r\n        when (menuItem.itemId) {\r\n            R.id.nav_settings -> {\r\n            }\r\n            R.id.nav_recent_files -> {\r\n            }\r\n            R.id.nav_document_viewer -> {\r\n            }\r\n        }\r\n        drawerLayout?.closeDrawer(GravityCompat.START)\r\n        return true\r\n    }\r\n\r\n    private fun defineLayouts() {\r\n        // defining the main activity data binding\r\n        mainBinding = DataBindingUtil.setContentView(this, R.layout.activity_main)\r\n\r\n        // defining the bottom sheet layout\r\n        bottomSheet = findViewById(R.id.bottom_sheet_layout)\r\n    }\r\n\r\n    private fun initActivity() {\r\n        // defining the bottom sheet behaviour\r\n        bottomSheetBehavior = BottomSheetBehavior.from(bottomSheet)\r\n\r\n        // defining the buttons inside the bottom sheet\r\n        // DATA BINDING IS NOT USED HERE, AS THE LAYOUT NEEDS TO BE A COORDINATOR LAYOUT\r\n        bottomSheet.apply {\r\n            documentScanButton = findViewById(R.id.document_scan_btn)\r\n            qrScanButton = findViewById(R.id.qr_scan_btn)\r\n        }\r\n\r\n        // setting initial state of bottom sheet to hidden\r\n        bottomSheetBehavior.state = BottomSheetBehavior.STATE_HIDDEN\r\n    }\r\n\r\n    // attaching on click listeners\r\n    private fun attachOnClickListeners() {\r\n        documentScanButton.setOnClickListener(this)\r\n        qrScanButton.setOnClickListener(this)\r\n        mainBinding.floatingActionButton.setOnClickListener(this)\r\n        mainBinding.mainActivityLayout.setOnClickListener(this)\r\n    }\r\n\r\n    // toggling bottom sheet visibility when fab is pressed\r\n    private fun onFabClicked() {\r\n        if (bottomSheetBehavior.state == 2 || bottomSheetBehavior.state == 5)\r\n            bottomSheetBehavior.state = BottomSheetBehavior.STATE_EXPANDED\r\n        else\r\n            bottomSheetBehavior.state = BottomSheetBehavior.STATE_HIDDEN\r\n    }\r\n\r\n    private fun onQRClicked(){\r\n        val intent = Intent(this, QRScanActivity::class.java)\r\n        startActivity(intent)\r\n    }\r\n\r\n    private fun onDocScanClicked(){\r\n\r\n    }\r\n\r\n\r\n\r\n    // whenever the user clicks anywhere on the screen, the bottom sheet is hidden\r\n    private fun onScreenClicked() {\r\n        bottomSheetBehavior.state = BottomSheetBehavior.STATE_HIDDEN\r\n    }\r\n\r\n    override fun onClick(v: View?) {\r\n        when (v?.id) {\r\n            R.id.document_scan_btn -> onDocScanClicked()\r\n            R.id.qr_scan_btn -> onQRClicked()\r\n            R.id.floating_action_button -> onFabClicked()\r\n            R.id.main_activity_layout -> onScreenClicked()\r\n        }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/club/devsoc/scanf/view/activity/MainActivity.kt	(revision f2478247a68568a5a7f66aa14747f8ac6ff6ee66)
+++ app/src/main/java/club/devsoc/scanf/view/activity/MainActivity.kt	(date 1611944935748)
@@ -108,7 +108,8 @@
     }
 
     private fun onDocScanClicked(){
-
+        val intentDoc = Intent(this,ImageActivity::class.java)
+        startActivity(intent)
     }
 
 
Index: app/src/main/res/layout/cam_screen_layout.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/cam_screen_layout.xml	(date 1611945610754)
+++ app/src/main/res/layout/cam_screen_layout.xml	(date 1611945610754)
@@ -0,0 +1,184 @@
+<?xml version="1.0" encoding="utf-8"?>
+<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    android:id="@+id/activityMain"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    >
+
+    <LinearLayout
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        android:orientation="vertical">
+
+        <androidx.appcompat.widget.Toolbar
+            android:id="@+id/toolbar"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:background="@color/colorPrimary"
+            android:elevation="6dp"
+            android:minHeight="?attr/actionBarSize"
+            android:theme="@style/ThemeOverlay.AppCompat.Dark.ActionBar"
+            app:title="CameraKit App" />
+
+        <FrameLayout
+            android:layout_width="match_parent"
+            android:layout_height="match_parent">
+
+            <com.camerakit.CameraKitView
+                android:id="@+id/camera"
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                android:adjustViewBounds="true"
+                app:camera_facing="back"
+                app:camera_focus="continuous"
+                app:camera_imageJpegQuality="100"
+                app:camera_imageMegaPixels="2.0"
+                app:camera_permissions="camera" />
+
+            <Button
+                android:id="@+id/permissionsButton"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_gravity="center"
+                android:text="Approve Permissions"
+                android:visibility="gone" />
+
+            <ImageView
+                android:id="@+id/imageView"
+                android:layout_width="108dp"
+                android:layout_height="192dp"
+                android:layout_gravity="top|center_horizontal"
+                android:layout_margin="16dp"
+                android:alpha="1.0"
+                android:scaleType="centerInside" />
+
+            <LinearLayout
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_margin="16dp"
+                android:orientation="vertical">
+
+                <androidx.appcompat.widget.AppCompatTextView
+                    android:id="@+id/facingText"
+                    android:layout_width="wrap_content"
+                    android:layout_height="20dp"
+                    android:shadowColor="#333333"
+                    android:shadowDx="1"
+                    android:shadowDy="1"
+                    android:shadowRadius="3"
+                    android:singleLine="true"
+                    android:textColor="#FFFFFF"
+                    android:textSize="11dp" />
+
+                <androidx.appcompat.widget.AppCompatTextView
+                    android:id="@+id/flashText"
+                    android:layout_width="wrap_content"
+                    android:layout_height="20dp"
+                    android:shadowColor="#333333"
+                    android:shadowDx="1"
+                    android:shadowDy="1"
+                    android:shadowRadius="3"
+                    android:singleLine="true"
+                    android:textColor="#FFFFFF"
+                    android:textSize="11dp" />
+
+                <androidx.appcompat.widget.AppCompatTextView
+                    android:id="@+id/previewSizeText"
+                    android:layout_width="wrap_content"
+                    android:layout_height="20dp"
+                    android:shadowColor="#333333"
+                    android:shadowDx="1"
+                    android:shadowDy="1"
+                    android:shadowRadius="3"
+                    android:singleLine="true"
+                    android:textColor="#FFFFFF"
+                    android:textSize="11dp" />
+
+                <androidx.appcompat.widget.AppCompatTextView
+                    android:id="@+id/photoSizeText"
+                    android:layout_width="wrap_content"
+                    android:layout_height="20dp"
+                    android:shadowColor="#333333"
+                    android:shadowDx="1"
+                    android:shadowDy="1"
+                    android:shadowRadius="3"
+                    android:singleLine="true"
+                    android:textColor="#FFFFFF"
+                    android:textSize="11dp" />
+
+            </LinearLayout>
+
+        </FrameLayout>
+
+    </LinearLayout>
+
+    <FrameLayout
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:layout_gravity="bottom|center_horizontal"
+        android:layout_margin="12dp">
+
+        <LinearLayout
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_gravity="left|bottom"
+            android:orientation="vertical">
+
+            <androidx.appcompat.widget.AppCompatButton
+                android:id="@+id/facingFrontButton"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:backgroundTint="@color/colorPrimaryDark"
+                android:drawableLeft="@drawable/ic_facing_front"
+                android:padding="14dp"
+                android:text=" Facing:\nFront" />
+
+            <androidx.appcompat.widget.AppCompatButton
+                android:id="@+id/facingBackButton"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:backgroundTint="@color/colorPrimaryDark"
+                android:drawableLeft="@drawable/ic_facing_back"
+                android:padding="14dp"
+                android:text=" Facing:\nBack" />
+
+        </LinearLayout>
+
+        <com.google.android.material.floatingactionbutton.FloatingActionButton
+            android:id="@+id/photoButton"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_gravity="center_horizontal|bottom"
+            android:layout_marginBottom="12dp"
+            android:src="@drawable/ic_photo" />
+
+        <LinearLayout
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_gravity="right|bottom"
+            android:orientation="vertical">
+
+            <androidx.appcompat.widget.AppCompatButton
+                android:id="@+id/flashOnButton"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:backgroundTint="@color/colorPrimaryDark"
+                android:drawableLeft="@drawable/ic_flash_on"
+                android:padding="14dp"
+                android:text=" Flash:\nOn" />
+
+            <androidx.appcompat.widget.AppCompatButton
+                android:id="@+id/flashOffButton"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:backgroundTint="@color/colorPrimaryDark"
+                android:drawableLeft="@drawable/ic_flash_off"
+                android:padding="14dp"
+                android:text=" Flash:\nOff" />
+
+        </LinearLayout>
+
+    </FrameLayout>
+
+</FrameLayout>
\ No newline at end of file
